(function(){var p=function(){this.init()};p.prototype={init:function(){var a=this||c;a._codecs={};a._howls=[];a._muted=!1;a._volume=1;a._canPlayEvent="canplaythrough";a._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null;a.masterGain=null;a.noAudio=!1;a.usingWebAudio=!0;a.autoSuspend=!0;a.ctx=null;a.mobileAutoEnable=!0;a._setup();return a},volume:function(a){var d=this||c;a=parseFloat(a);d.ctx||t();if("undefined"!==typeof a&&0<=a&&1>=a){d._volume=a;if(d._muted)return d;
d.usingWebAudio&&(d.masterGain.gain.value=a);for(var f=0;f<d._howls.length;f++)if(!d._howls[f]._webAudio)for(var b=d._howls[f]._getSoundIds(),r=0;r<b.length;r++){var h=d._howls[f]._soundById(b[r]);h&&h._node&&(h._node.volume=h._volume*a)}return d}return d._volume},mute:function(a){var d=this||c;d.ctx||t();d._muted=a;d.usingWebAudio&&(d.masterGain.gain.value=a?0:d._volume);for(var f=0;f<d._howls.length;f++)if(!d._howls[f]._webAudio)for(var b=d._howls[f]._getSoundIds(),r=0;r<b.length;r++){var h=d._howls[f]._soundById(b[r]);
h&&h._node&&(h._node.muted=a?!0:h._muted)}return d},unload:function(){for(var a=this||c,d=a._howls.length-1;0<=d;d--)a._howls[d].unload();a.usingWebAudio&&"undefined"!==typeof a.ctx.close&&(a.ctx.close(),a.ctx=null,t());return a},codecs:function(a){return(this||c)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||c;a.state=a.ctx?a.ctx.state||"running":"running";a._autoSuspend();a.noAudio||a._setupCodecs();return a},_setupCodecs:function(){var a=this||c,d="undefined"!==typeof Audio?new Audio:
null;if(!d||"function"!==typeof d.canPlayType)return a;var f=d.canPlayType("audio/mpeg;").replace(/^no$/,""),b=a._navigator&&a._navigator.userAgent.match(/OPR\/([0-6].)/g),b=b&&33>parseInt(b[0].split("/")[1],10);a._codecs={mp3:!(b||!f&&!d.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!f,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!d.canPlayType('audio/wav; codecs="1"').replace(/^no$/,
""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,
""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")};return a},_enableMobileAudio:function(){var a=this||c,d=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(a._navigator&&a._navigator.userAgent),f=!!("ontouchend"in window||a._navigator&&0<a._navigator.maxTouchPoints||a._navigator&&0<a._navigator.msMaxTouchPoints);if(!a._mobileEnabled&&a.ctx&&(d||f)){a._mobileEnabled=!1;a._mobileUnloaded||44100===a.ctx.sampleRate||(a._mobileUnloaded=!0,a.unload());
a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var b=function(){var d=a.ctx.createBufferSource();d.buffer=a._scratchBuffer;d.connect(a.ctx.destination);"undefined"===typeof d.start?d.noteOn(0):d.start(0);d.onended=function(){d.disconnect(0);a._mobileEnabled=!0;a.mobileAutoEnable=!1;document.removeEventListener("touchend",b,!0)}};document.addEventListener("touchend",b,!0);return a}},_autoSuspend:function(){var a=this;if(a.autoSuspend&&a.ctx&&"undefined"!==typeof a.ctx.suspend&&c.usingWebAudio){for(var d=
0;d<a._howls.length;d++)if(a._howls[d]._webAudio)for(var f=0;f<a._howls[d]._sounds.length;f++)if(!a._howls[d]._sounds[f]._paused)return a;a._suspendTimer&&clearTimeout(a._suspendTimer);a._suspendTimer=setTimeout(function(){a.autoSuspend&&(a._suspendTimer=null,a.state="suspending",a.ctx.suspend().then(function(){a.state="suspended";a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())}))},3E4);return a}},_autoResume:function(){var a=this;if(a.ctx&&"undefined"!==typeof a.ctx.resume&&
c.usingWebAudio)return"running"===a.state&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):"suspended"===a.state?(a.state="resuming",a.ctx.resume().then(function(){a.state="running"}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):"suspending"===a.state&&(a._resumeAfterSuspend=!0),a}};var c=new p,b=function(a){a.src&&0!==a.src.length?this.init(a):console.error("An array of source files must be passed with any new Howl.")};b.prototype={init:function(a){c.ctx||
t();this._autoplay=a.autoplay||!1;this._format="string"!==typeof a.format?a.format:[a.format];this._html5=a.html5||!1;this._muted=a.mute||!1;this._loop=a.loop||!1;this._pool=a.pool||5;this._preload="boolean"===typeof a.preload?a.preload:!0;this._rate=a.rate||1;this._sprite=a.sprite||{};this._src="string"!==typeof a.src?a.src:[a.src];this._volume=void 0!==a.volume?a.volume:1;this._duration=0;this._state="unloaded";this._sounds=[];this._endTimers={};this._queue=[];this._onend=a.onend?[{fn:a.onend}]:
[];this._onfade=a.onfade?[{fn:a.onfade}]:[];this._onload=a.onload?[{fn:a.onload}]:[];this._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[];this._onpause=a.onpause?[{fn:a.onpause}]:[];this._onplay=a.onplay?[{fn:a.onplay}]:[];this._onstop=a.onstop?[{fn:a.onstop}]:[];this._onmute=a.onmute?[{fn:a.onmute}]:[];this._onvolume=a.onvolume?[{fn:a.onvolume}]:[];this._onrate=a.onrate?[{fn:a.onrate}]:[];this._onseek=a.onseek?[{fn:a.onseek}]:[];this._webAudio=c.usingWebAudio&&!this._html5;"undefined"!==typeof c.ctx&&
c.ctx&&c.mobileAutoEnable&&c._enableMobileAudio();c._howls.push(this);this._preload&&this.load();return this},load:function(){var a=null;if(c.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"===typeof this._src&&(this._src=[this._src]);for(var d=0;d<this._src.length;d++){var f,b;if(this._format&&this._format[d])f=this._format[d];else{b=this._src[d];if("string"!==typeof b){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(f=/^data:audio\/([^;,]+);/i.exec(b))||
(f=/\.([^.]+)$/.exec(b.split("?",1)[0]));f&&(f=f[1].toLowerCase())}if(c.codecs(f)){a=this._src[d];break}}if(a)return this._src=a,this._state="loading","https:"===window.location.protocol&&"http:"===a.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new g(this),this._webAudio&&e(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(a,d){var f=this,b=null;if("number"===typeof a)b=a,a=null;else{if("string"===typeof a&&"loaded"===f._state&&!f._sprite[a])return null;
if("undefined"===typeof a){a="__default";for(var r=0,h=0;h<f._sounds.length;h++)f._sounds[h]._paused&&!f._sounds[h]._ended&&(r++,b=f._sounds[h]._id);1===r?a=null:b=null}}var e=b?f._soundById(b):f._inactiveSound();if(!e)return null;b&&!a&&(a=e._sprite||"__default");if("loaded"!==f._state&&!f._sprite[a])return f._queue.push({event:"play",action:function(){f.play(f._soundById(e._id)?e._id:void 0)}}),e._id;if(b&&!e._paused)return d||setTimeout(function(){f._emit("play",e._id)},0),e._id;f._webAudio&&c._autoResume();
var g=0<e._seek?e._seek:f._sprite[a][0]/1E3,m=(f._sprite[a][0]+f._sprite[a][1])/1E3-g,l=1E3*m/Math.abs(e._rate);e._paused=!1;e._ended=!1;e._sprite=a;e._seek=g;e._start=f._sprite[a][0]/1E3;e._stop=(f._sprite[a][0]+f._sprite[a][1])/1E3;e._loop=!(!e._loop&&!f._sprite[a][2]);var k=e._node;if(f._webAudio)b=function(){f._refreshBuffer(e);k.gain.setValueAtTime(e._muted||f._muted?0:e._volume,c.ctx.currentTime);e._playStart=c.ctx.currentTime;"undefined"===typeof k.bufferSource.start?e._loop?k.bufferSource.noteGrainOn(0,
g,86400):k.bufferSource.noteGrainOn(0,g,m):e._loop?k.bufferSource.start(0,g,86400):k.bufferSource.start(0,g,m);Infinity!==l&&(f._endTimers[e._id]=setTimeout(f._ended.bind(f,e),l));d||setTimeout(function(){f._emit("play",e._id)},0)},"loaded"===f._state?b():(f.once("load",b,e._id),f._clearTimer(e._id));else{var n=function(){k.currentTime=g;k.muted=e._muted||f._muted||c._muted||k.muted;k.volume=e._volume*c.volume();k.playbackRate=e._rate;setTimeout(function(){k.play();Infinity!==l&&(f._endTimers[e._id]=
setTimeout(f._ended.bind(f,e),l));d||f._emit("play",e._id)},0)},b="loaded"===f._state&&(window&&window.ejecta||!k.readyState&&c._navigator.isCocoonJS);if(4===k.readyState||b)n();else{var p=function(){n();k.removeEventListener(c._canPlayEvent,p,!1)};k.addEventListener(c._canPlayEvent,p,!1);f._clearTimer(e._id)}}return e._id},pause:function(a,d){var f=this;if("loaded"!==f._state)return f._queue.push({event:"pause",action:function(){f.pause(a)}}),f;for(var c=f._getSoundIds(a),b=0;b<c.length;b++){f._clearTimer(c[b]);
var e=f._soundById(c[b]);if(e&&!e._paused){e._seek=f.seek(c[b]);e._rateSeek=0;e._paused=!0;f._stopFade(c[b]);if(e._node)if(f._webAudio){if(!e._node.bufferSource)break;"undefined"===typeof e._node.bufferSource.stop?e._node.bufferSource.noteOff(0):e._node.bufferSource.stop(0);f._cleanBuffer(e._node)}else isNaN(e._node.duration)&&Infinity!==e._node.duration||e._node.pause();d||f._emit("pause",e._id)}}return f},stop:function(a,d){var c=this;if("loaded"!==c._state)return c._queue.push({event:"stop",action:function(){c.stop(a)}}),
c;for(var b=c._getSoundIds(a),e=0;e<b.length;e++){c._clearTimer(b[e]);var h=c._soundById(b[e]);if(h&&(h._seek=h._start||0,h._rateSeek=0,h._paused=!0,h._ended=!0,c._stopFade(b[e]),h._node))if(c._webAudio){if(!h._node.bufferSource){d||c._emit("stop",h._id);break}"undefined"===typeof h._node.bufferSource.stop?h._node.bufferSource.noteOff(0):h._node.bufferSource.stop(0);c._cleanBuffer(h._node)}else isNaN(h._node.duration)&&Infinity!==h._node.duration||(h._node.currentTime=h._start||0,h._node.pause());
h&&!d&&c._emit("stop",h._id)}return c},mute:function(a,d){var f=this;if("loaded"!==f._state)return f._queue.push({event:"mute",action:function(){f.mute(a,d)}}),f;if("undefined"===typeof d)if("boolean"===typeof a)f._muted=a;else return f._muted;for(var b=f._getSoundIds(d),e=0;e<b.length;e++){var h=f._soundById(b[e]);h&&(h._muted=a,f._webAudio&&h._node?h._node.gain.setValueAtTime(a?0:h._volume,c.ctx.currentTime):h._node&&(h._node.muted=c._muted?!0:a),f._emit("mute",h._id))}return f},volume:function(){var a=
this,d=arguments,f,b;if(0===d.length)return a._volume;1===d.length||2===d.length&&"undefined"===typeof d[1]?0<=a._getSoundIds().indexOf(d[0])?b=parseInt(d[0],10):f=parseFloat(d[0]):2<=d.length&&(f=parseFloat(d[0]),b=parseInt(d[1],10));var e;if("undefined"!==typeof f&&0<=f&&1>=f){if("loaded"!==a._state)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,d)}}),a;"undefined"===typeof b&&(a._volume=f);b=a._getSoundIds(b);for(var h=0;h<b.length;h++)if(e=a._soundById(b[h]))e._volume=
f,d[2]||a._stopFade(b[h]),a._webAudio&&e._node&&!e._muted?e._node.gain.setValueAtTime(f,c.ctx.currentTime):e._node&&!e._muted&&(e._node.volume=f*c.volume()),a._emit("volume",e._id)}else return(e=b?a._soundById(b):a._sounds[0])?e._volume:0;return a},fade:function(a,d,b,e){var f=this,h=a>d?"out":"in",g=Math.abs(a-d)/.01,u=0<g?b/g:b;4>u&&(g=Math.ceil(g/(4/u)),u=4);if("loaded"!==f._state)return f._queue.push({event:"fade",action:function(){f.fade(a,d,b,e)}}),f;f.volume(a,e);for(var k=f._getSoundIds(e),
m=0;m<k.length;m++){var l=f._soundById(k[m]);if(l){e||f._stopFade(k[m]);if(f._webAudio&&!l._muted){var n=c.ctx.currentTime,p=n+b/1E3;l._volume=a;l._node.gain.setValueAtTime(a,n);l._node.gain.linearRampToValueAtTime(d,p)}var q=a;l._interval=setInterval(function(a,c){0<g&&(q+="in"===h?.01:-.01);q=Math.max(0,q);q=Math.min(1,q);q=Math.round(100*q)/100;f._webAudio?("undefined"===typeof e&&(f._volume=q),c._volume=q):f.volume(q,a,!0);q===d&&(clearInterval(c._interval),c._interval=null,f.volume(q,a),f._emit("fade",
a))}.bind(f,k[m],l),u)}}return f},_stopFade:function(a){var d=this._soundById(a);d&&d._interval&&(this._webAudio&&d._node.gain.cancelScheduledValues(c.ctx.currentTime),clearInterval(d._interval),d._interval=null,this._emit("fade",a));return this},loop:function(){var a=arguments,d,c;if(0===a.length)return this._loop;if(1===a.length)if("boolean"===typeof a[0])this._loop=d=a[0];else return(a=this._soundById(parseInt(a[0],10)))?a._loop:!1;else 2===a.length&&(d=a[0],c=parseInt(a[1],10));c=this._getSoundIds(c);
for(var b=0;b<c.length;b++)if(a=this._soundById(c[b]))if(a._loop=d,this._webAudio&&a._node&&a._node.bufferSource&&(a._node.bufferSource.loop=d))a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop;return this},rate:function(){var a=this,d=arguments,b,e;0===d.length?e=a._sounds[0]._id:1===d.length?0<=a._getSoundIds().indexOf(d[0])?e=parseInt(d[0],10):b=parseFloat(d[0]):2===d.length&&(b=parseFloat(d[0]),e=parseInt(d[1],10));var g;if("number"===typeof b){if("loaded"!==a._state)return a._queue.push({event:"rate",
action:function(){a.rate.apply(a,d)}}),a;"undefined"===typeof e&&(a._rate=b);e=a._getSoundIds(e);for(var h=0;h<e.length;h++)if(g=a._soundById(e[h])){g._rateSeek=a.seek(e[h]);g._playStart=a._webAudio?c.ctx.currentTime:g._playStart;g._rate=b;a._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.value=b:g._node&&(g._node.playbackRate=b);var k=a.seek(e[h]),k=(a._sprite[g._sprite][0]+a._sprite[g._sprite][1])/1E3-k;if(0>=k)return;k=1E3*k/Math.abs(g._rate);if(a._endTimers[e[h]]||!g._paused)a._clearTimer(e[h]),
a._endTimers[e[h]]=setTimeout(a._ended.bind(a,g),k);a._emit("rate",g._id)}}else return(g=a._soundById(e))?g._rate:a._rate;return a},seek:function(){var a=this,d=arguments,b,e;0===d.length?e=a._sounds[0]._id:1===d.length?0<=a._getSoundIds().indexOf(d[0])?e=parseInt(d[0],10):(e=a._sounds[0]._id,b=parseFloat(d[0])):2===d.length&&(b=parseFloat(d[0]),e=parseInt(d[1],10));if("undefined"===typeof e)return a;if("loaded"!==a._state)return a._queue.push({event:"seek",action:function(){a.seek.apply(a,d)}}),
a;var g=a._soundById(e);if(g)if("number"===typeof b&&0<=b){var h=a.playing(e);h&&a.pause(e,!0);g._seek=b;g._ended=!1;a._clearTimer(e);h&&a.play(e,!0);!a._webAudio&&g._node&&(g._node.currentTime=b);a._emit("seek",e)}else return a._webAudio?(b=a.playing(e)?c.ctx.currentTime-g._playStart:0,g._seek+((g._rateSeek?g._rateSeek-g._seek:0)+b*Math.abs(g._rate))):g._node.currentTime;return a},playing:function(a){if("number"===typeof a)return(a=this._soundById(a))?!a._paused:!1;for(a=0;a<this._sounds.length;a++)if(!this._sounds[a]._paused)return!0;
return!1},duration:function(a){var d=this._duration;(a=this._soundById(a))&&(d=this._sprite[a._sprite][1]/1E3);return d},state:function(){return this._state},unload:function(){for(var a=this._sounds,d=0;d<a.length;d++){a[d]._paused||(this.stop(a[d]._id),this._emit("end",a[d]._id));this._webAudio||(a[d]._node.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",a[d]._node.removeEventListener("error",a[d]._errorFn,!1),a[d]._node.removeEventListener(c._canPlayEvent,
a[d]._loadFn,!1));delete a[d]._node;this._clearTimer(a[d]._id);var b=c._howls.indexOf(this);0<=b&&c._howls.splice(b,1)}a=!0;for(d=0;d<c._howls.length;d++)if(c._howls[d]._src===this._src){a=!1;break}l&&a&&delete l[this._src];c.noAudio=!1;this._state="unloaded";this._sounds=[];return null},on:function(a,d,c,b){a=this["_on"+a];"function"===typeof d&&a.push(b?{id:c,fn:d,once:b}:{id:c,fn:d});return this},off:function(a,d,c){var b=this["_on"+a];if(d)for(a=0;a<b.length;a++){if(d===b[a].fn&&c===b[a].id){b.splice(a,
1);break}}else if(a)this["_on"+a]=[];else for(d=Object.keys(this),a=0;a<d.length;a++)0===d[a].indexOf("_on")&&Array.isArray(this[d[a]])&&(this[d[a]]=[]);return this},once:function(a,d,c){this.on(a,d,c,1);return this},_emit:function(a,d,c){for(var b=this["_on"+a],e=b.length-1;0<=e;e--)b[e].id&&b[e].id!==d&&"load"!==a||(setTimeout(function(a){a.call(this,d,c)}.bind(this,b[e].fn),0),b[e].once&&this.off(a,b[e].fn,b[e].id));return this},_loadQueue:function(){var a=this;if(0<a._queue.length){var d=a._queue[0];
a.once(d.event,function(){a._queue.shift();a._loadQueue()});d.action()}return a},_ended:function(a){var d=a._sprite,d=!(!a._loop&&!this._sprite[d][2]);this._emit("end",a._id);!this._webAudio&&d&&this.stop(a._id,!0).play(a._id);if(this._webAudio&&d){this._emit("play",a._id);a._seek=a._start||0;a._rateSeek=0;a._playStart=c.ctx.currentTime;var b=1E3*(a._stop-a._start)/Math.abs(a._rate);this._endTimers[a._id]=setTimeout(this._ended.bind(this,a),b)}this._webAudio&&!d&&(a._paused=!0,a._ended=!0,a._seek=
a._start||0,a._rateSeek=0,this._clearTimer(a._id),this._cleanBuffer(a._node),c._autoSuspend());this._webAudio||d||this.stop(a._id);return this},_clearTimer:function(a){this._endTimers[a]&&(clearTimeout(this._endTimers[a]),delete this._endTimers[a]);return this},_soundById:function(a){for(var d=0;d<this._sounds.length;d++)if(a===this._sounds[d]._id)return this._sounds[d];return null},_inactiveSound:function(){this._drain();for(var a=0;a<this._sounds.length;a++)if(this._sounds[a]._ended)return this._sounds[a].reset();
return new g(this)},_drain:function(){var a=this._pool,d=0,b;if(!(this._sounds.length<a)){for(b=0;b<this._sounds.length;b++)this._sounds[b]._ended&&d++;for(b=this._sounds.length-1;0<=b&&!(d<=a);b--)this._sounds[b]._ended&&(this._webAudio&&this._sounds[b]._node&&this._sounds[b]._node.disconnect(0),this._sounds.splice(b,1),d--)}},_getSoundIds:function(a){if("undefined"===typeof a){a=[];for(var b=0;b<this._sounds.length;b++)a.push(this._sounds[b]._id);return a}return[a]},_refreshBuffer:function(a){a._node.bufferSource=
c.ctx.createBufferSource();a._node.bufferSource.buffer=l[this._src];a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node);if(a._node.bufferSource.loop=a._loop)a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop;a._node.bufferSource.playbackRate.value=a._rate;return this},_cleanBuffer:function(a){if(this._scratchBuffer){a.bufferSource.onended=null;a.bufferSource.disconnect(0);try{a.bufferSource.buffer=this._scratchBuffer}catch(d){}}a.bufferSource=
null;return this}};var g=function(a){this._parent=a;this.init()};g.prototype={init:function(){var a=this._parent;this._muted=a._muted;this._loop=a._loop;this._volume=a._volume;this._muted=a._muted;this._rate=a._rate;this._seek=0;this._ended=this._paused=!0;this._sprite="__default";this._id=Math.round(Date.now()*Math.random());a._sounds.push(this);this.create();return this},create:function(){var a=this._parent,b=c._muted||this._muted||this._parent._muted?0:this._volume;a._webAudio?(this._node="undefined"===
typeof c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),this._node.gain.setValueAtTime(b,c.ctx.currentTime),this._node.paused=!0,this._node.connect(c.masterGain)):(this._node=new Audio,this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(c._canPlayEvent,this._loadFn,!1),this._node.src=a._src,this._node.preload="auto",this._node.volume=b*c.volume(),this._node.load());return this},
reset:function(){var a=this._parent;this._muted=a._muted;this._loop=a._loop;this._volume=a._volume;this._muted=a._muted;this._rate=a._rate;this._rateSeek=this._seek=0;this._ended=this._paused=!0;this._sprite="__default";this._id=Math.round(Date.now()*Math.random());return this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0);this._node.removeEventListener("error",this._errorListener,!1)},_loadListener:function(){var a=this._parent;a._duration=
Math.ceil(10*this._node.duration)/10;0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1E3*a._duration]});"loaded"!==a._state&&(a._state="loaded",a._emit("load"),a._loadQueue());a._autoplay&&a.play();this._node.removeEventListener(c._canPlayEvent,this._loadFn,!1)}};var l={},e=function(a){var b=a._src;if(l[b])a._duration=l[b].duration,n(a);else if(/^data:[^;]+;base64,/.test(b)){for(var c=atob(b.split(",")[1]),e=new Uint8Array(c.length),g=0;g<c.length;++g)e[g]=c.charCodeAt(g);m(e.buffer,a)}else{var h=
new XMLHttpRequest;h.open("GET",b,!0);h.responseType="arraybuffer";h.onload=function(){var b=(h.status+"")[0];"0"!==b&&"2"!==b&&"3"!==b?a._emit("loaderror",null,"Failed loading audio file with status: "+h.status+"."):m(h.response,a)};h.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete l[b],a.load())};k(h)}},k=function(a){try{a.send()}catch(d){a.onerror()}},m=function(a,b){c.ctx.decodeAudioData(a,function(a){a&&0<b._sounds.length&&(l[b._src]=a,n(b,a))},function(){b._emit("loaderror",
null,"Decoding audio data failed.")})},n=function(a,b){b&&!a._duration&&(a._duration=b.duration);0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1E3*a._duration]});"loaded"!==a._state&&(a._state="loaded",a._emit("load"),a._loadQueue());a._autoplay&&a.play()},t=function(){c.noAudio=!1;try{"undefined"!==typeof AudioContext?c.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?c.ctx=new webkitAudioContext:c.usingWebAudio=!1}catch(f){c.usingWebAudio=!1}if(!c.usingWebAudio)if("undefined"!==
typeof Audio)try{var a=new Audio;"undefined"===typeof a.oncanplaythrough&&(c._canPlayEvent="canplay")}catch(f){c.noAudio=!0}else c.noAudio=!0;try{a=new Audio,a.muted&&(c.noAudio=!0)}catch(f){}var a=/iP(hone|od|ad)/.test(c._navigator&&c._navigator.platform),b=c._navigator&&c._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),b=b?parseInt(b[1],10):null;a&&b&&9>b&&(a=/safari/.test(c._navigator&&c._navigator.userAgent.toLowerCase()),c._navigator&&c._navigator.standalone&&!a||c._navigator&&!c._navigator.standalone&&
!a)&&(c.usingWebAudio=!1);c.usingWebAudio&&(c.masterGain="undefined"===typeof c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),c.masterGain.gain.value=1,c.masterGain.connect(c.ctx.destination));c._setup()};"function"===typeof define&&define.amd&&define([],function(){return{Howler:c,Howl:b}});"undefined"!==typeof exports&&(exports.Howler=c,exports.Howl=b);"undefined"!==typeof window?(window.HowlerGlobal=p,window.Howler=c,window.Howl=b,window.Sound=g):"undefined"!==typeof global&&(global.HowlerGlobal=
p,global.Howler=c,global.Howl=b,global.Sound=g)})();
(function(){HowlerGlobal.prototype._pos=[0,0,0];HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0];HowlerGlobal.prototype.stereo=function(c){if(!this.ctx||!this.ctx.listener)return this;for(var b=this._howls.length-1;0<=b;b--)this._howls[b].stereo(c);return this};HowlerGlobal.prototype.pos=function(c,b,g){if(!this.ctx||!this.ctx.listener)return this;b="number"!==typeof b?this._pos[1]:b;g="number"!==typeof g?this._pos[2]:g;if("number"===typeof c)this._pos=[c,b,g],this.ctx.listener.setPosition(this._pos[0],
this._pos[1],this._pos[2]);else return this._pos;return this};HowlerGlobal.prototype.orientation=function(c,b,g,l,e,k){if(!this.ctx||!this.ctx.listener)return this;var m=this._orientation;b="number"!==typeof b?m[1]:b;g="number"!==typeof g?m[2]:g;l="number"!==typeof l?m[3]:l;e="number"!==typeof e?m[4]:e;k="number"!==typeof k?m[5]:k;if("number"===typeof c)this._orientation=[c,b,g,l,e,k],this.ctx.listener.setOrientation(c,b,g,l,e,k);else return m;return this};Howl.prototype.init=function(c){return function(b){this._orientation=
b.orientation||[1,0,0];this._stereo=b.stereo||null;this._pos=b.pos||null;this._pannerAttr={coneInnerAngle:"undefined"!==typeof b.coneInnerAngle?b.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof b.coneOuterAngle?b.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof b.coneOuterGain?b.coneOuterGain:0,distanceModel:"undefined"!==typeof b.distanceModel?b.distanceModel:"inverse",maxDistance:"undefined"!==typeof b.maxDistance?b.maxDistance:1E4,panningModel:"undefined"!==typeof b.panningModel?b.panningModel:
"HRTF",refDistance:"undefined"!==typeof b.refDistance?b.refDistance:1,rolloffFactor:"undefined"!==typeof b.rolloffFactor?b.rolloffFactor:1};this._onstereo=b.onstereo?[{fn:b.onstereo}]:[];this._onpos=b.onpos?[{fn:b.onpos}]:[];this._onorientation=b.onorientation?[{fn:b.onorientation}]:[];return c.call(this,b)}}(Howl.prototype.init);Howl.prototype.stereo=function(c,b){var g=this;if(!g._webAudio)return g;if("loaded"!==g._state)return g._queue.push({event:"stereo",action:function(){g.stereo(c,b)}}),g;
var l="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof b)if("number"===typeof c)g._stereo=c,g._pos=[c,0,0];else return g._stereo;for(var e=g._getSoundIds(b),k=0;k<e.length;k++){var m=g._soundById(e[k]);if(m)if("number"===typeof c)m._stereo=c,m._pos=[c,0,0],m._node&&(m._pannerAttr.panningModel="equalpower",m._panner&&m._panner.pan||p(m,l),"spatial"===l?m._panner.setPosition(c,0,0):m._panner.pan.value=c),g._emit("stereo",m._id);else return m._stereo}return g};
Howl.prototype.pos=function(c,b,g,l){var e=this;if(!e._webAudio)return e;if("loaded"!==e._state)return e._queue.push({event:"pos",action:function(){e.pos(c,b,g,l)}}),e;b="number"!==typeof b?0:b;g="number"!==typeof g?-.5:g;if("undefined"===typeof l)if("number"===typeof c)e._pos=[c,b,g];else return e._pos;for(var k=e._getSoundIds(l),m=0;m<k.length;m++){var n=e._soundById(k[m]);if(n)if("number"===typeof c)n._pos=[c,b,g],n._node&&(n._panner&&!n._panner.pan||p(n,"spatial"),n._panner.setPosition(c,b,g)),
e._emit("pos",n._id);else return n._pos}return e};Howl.prototype.orientation=function(c,b,g,l){var e=this;if(!e._webAudio)return e;if("loaded"!==e._state)return e._queue.push({event:"orientation",action:function(){e.orientation(c,b,g,l)}}),e;b="number"!==typeof b?e._orientation[1]:b;g="number"!==typeof g?e._orientation[2]:g;if("undefined"===typeof l)if("number"===typeof c)e._orientation=[c,b,g];else return e._orientation;for(var k=e._getSoundIds(l),m=0;m<k.length;m++){var n=e._soundById(k[m]);if(n)if("number"===
typeof c)n._orientation=[c,b,g],n._node&&(n._panner||(n._pos||(n._pos=e._pos||[0,0,-.5]),p(n,"spatial")),n._panner.setOrientation(c,b,g)),e._emit("orientation",n._id);else return n._orientation}return e};Howl.prototype.pannerAttr=function(){var c=arguments,b,g;if(!this._webAudio)return this;if(0===c.length)return this._pannerAttr;if(1===c.length)if("object"===typeof c[0])b=c[0],"undefined"===typeof g&&(this._pannerAttr={coneInnerAngle:"undefined"!==typeof b.coneInnerAngle?b.coneInnerAngle:this._coneInnerAngle,
coneOuterAngle:"undefined"!==typeof b.coneOuterAngle?b.coneOuterAngle:this._coneOuterAngle,coneOuterGain:"undefined"!==typeof b.coneOuterGain?b.coneOuterGain:this._coneOuterGain,distanceModel:"undefined"!==typeof b.distanceModel?b.distanceModel:this._distanceModel,maxDistance:"undefined"!==typeof b.maxDistance?b.maxDistance:this._maxDistance,panningModel:"undefined"!==typeof b.panningModel?b.panningModel:this._panningModel,refDistance:"undefined"!==typeof b.refDistance?b.refDistance:this._refDistance,
rolloffFactor:"undefined"!==typeof b.rolloffFactor?b.rolloffFactor:this._rolloffFactor});else return(c=this._soundById(parseInt(c[0],10)))?c._pannerAttr:this._pannerAttr;else 2===c.length&&(b=c[0],g=parseInt(c[1],10));g=this._getSoundIds(g);for(var l=0;l<g.length;l++)if(c=this._soundById(g[l])){var e=c._pannerAttr,e={coneInnerAngle:"undefined"!==typeof b.coneInnerAngle?b.coneInnerAngle:e.coneInnerAngle,coneOuterAngle:"undefined"!==typeof b.coneOuterAngle?b.coneOuterAngle:e.coneOuterAngle,coneOuterGain:"undefined"!==
typeof b.coneOuterGain?b.coneOuterGain:e.coneOuterGain,distanceModel:"undefined"!==typeof b.distanceModel?b.distanceModel:e.distanceModel,maxDistance:"undefined"!==typeof b.maxDistance?b.maxDistance:e.maxDistance,panningModel:"undefined"!==typeof b.panningModel?b.panningModel:e.panningModel,refDistance:"undefined"!==typeof b.refDistance?b.refDistance:e.refDistance,rolloffFactor:"undefined"!==typeof b.rolloffFactor?b.rolloffFactor:e.rolloffFactor},k=c._panner;k?(k.coneInnerAngle=e.coneInnerAngle,k.coneOuterAngle=
e.coneOuterAngle,k.coneOuterGain=e.coneOuterGain,k.distanceModel=e.distanceModel,k.maxDistance=e.maxDistance,k.panningModel=e.panningModel,k.refDistance=e.refDistance,k.rolloffFactor=e.rolloffFactor):(c._pos||(c._pos=this._pos||[0,0,-.5]),p(c,"spatial"))}return this};Sound.prototype.init=function(c){return function(){var b=this._parent;this._orientation=b._orientation;this._stereo=b._stereo;this._pos=b._pos;this._pannerAttr=b._pannerAttr;c.call(this);this._stereo?b.stereo(this._stereo):this._pos&&
b.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init);Sound.prototype.reset=function(c){return function(){var b=this._parent;this._orientation=b._orientation;this._pos=b._pos;this._pannerAttr=b._pannerAttr;return c.call(this)}}(Sound.prototype.reset);var p=function(c,b){"spatial"===(b||"spatial")?(c._panner=Howler.ctx.createPanner(),c._panner.coneInnerAngle=c._pannerAttr.coneInnerAngle,c._panner.coneOuterAngle=c._pannerAttr.coneOuterAngle,c._panner.coneOuterGain=c._pannerAttr.coneOuterGain,
c._panner.distanceModel=c._pannerAttr.distanceModel,c._panner.maxDistance=c._pannerAttr.maxDistance,c._panner.panningModel=c._pannerAttr.panningModel,c._panner.refDistance=c._pannerAttr.refDistance,c._panner.rolloffFactor=c._pannerAttr.rolloffFactor,c._panner.setPosition(c._pos[0],c._pos[1],c._pos[2]),c._panner.setOrientation(c._orientation[0],c._orientation[1],c._orientation[2])):(c._panner=Howler.ctx.createStereoPanner(),c._panner.pan.value=c._stereo);c._panner.connect(c._node);c._paused||c._parent.pause(c._id,
!0).play(c._id)}})();